## Архитектурное решение системы

### Общая структура

Система реализована как набор независимых микросервисов, взаимодействующих между собой через API. Архитектура включает следующие компоненты:

* **Gateway-сервер** — точка входа для всех внешних запросов
* **Config-сервер** — централизованное хранение конфигураций
* **Discovery-сервер** — сервис обнаружения для автоматического обнаружения микросервисов
* **Основные микросервисы** — функциональные модули системы

### Микросервисы

Система состоит из следующих микросервисов:

* **User-сервис** — управление пользовательскими данными
* **Event-сервис** — работа с событиями
* **Request-сервис** — обработка заявок на участие
* **Comment-сервис** — управление комментариями
* **Interaction-API** — набор интерфейсов и утилит для взаимодействия между сервисами

### Взаимодействие компонентов

При запуске каждый микросервис:
* Регистрируется в **discovery-сервере**
* Загружает конфигурации из **config-сервера**
* Взаимодействует с другими сервисами через **gateway-сервер**

### API спецификации

#### User-сервис

* **Управление пользователями**
    * Получение списка всех пользователей: `GET /admin/users`
    * Поиск пользователя по ID: `GET /admin/users/{userId}`
    * Проверка существования пользователя: `GET /admin/{userId}`

#### Event-сервис

* **Работа с событиями**
    * Получение информации о событии: `GET /events/{id}`
    * Создание нового события: `POST /users/{userId}/events`
    * Обновление заявок: `PATCH /admin/events/{eventId}`
    * Проверка существования события: `GET /admin/events/{id}`

#### Request-сервис

* **Управление заявками**
    * Получение всех заявок пользователя: `GET /users/{userId}/requests`
    * Создание заявки: `POST /users/{userId}/requests`
    * Отмена заявки: `PATCH /users/{userId}/requests/{requestId}/cancel`
    * Поиск заявок по событию: `GET /requests/event/{eventId}`
    * Поиск подтвержденных заявок: `GET /requests/event/confirmed/{eventId}`
    * Изменение статуса заявки: `PATCH /requests/status/{id}`

#### Comment-сервис

* **Работа с комментариями**
    * Получение комментариев события: `GET /comments/{eventId}`
    * Создание комментария: `POST /users/{userId}/comments`
    * Обновление комментария: `PATCH /users/{userId}/comments/{commentId}`
    * Удаление комментария: `DELETE /users/{userId}/comments/{commentId}`

#### Stats-сервис

* **Статистика**
    * Получение общей статистики: `GET /stats`
    * Запись статистической информации: `POST /hit`